"use strict";(self.webpackChunkanswer=self.webpackChunkanswer||[]).push([[5242],{28659:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>o,toc:()=>a});var l=i(43010),t=i(90887);const s={slug:"/development/plugins"},r="Plugins Development Guide",o={id:"development/plugins/plugin",title:"Plugins Development Guide",description:"Plugins are a way to extend the functionality of the Answer project. You can create your own plugins to meet your own needs.",source:"@site/docs/development/plugins/plugin.md",sourceDirName:"development/plugins",slug:"/development/plugins",permalink:"/docs/development/plugins",draft:!1,unlisted:!1,editUrl:"https://github.com/apache/answer-website/edit/main/docs/development/plugins/plugin.md",tags:[],version:"current",lastUpdatedBy:"robin",lastUpdatedAt:1764473699,formattedLastUpdatedAt:"Nov 30, 2025",frontMatter:{slug:"/development/plugins"},sidebar:"docs",previous:{title:"Development Guide",permalink:"/docs/development"},next:{title:"Plugin Configuration Schema",permalink:"/docs/development/plugins/plugin-config"}},d={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Plugin template types",id:"plugin-template-types",level:3},{value:"Plugin type",id:"plugin-type",level:3},{value:"Create a Plugin",id:"create-a-plugin",level:2},{value:"Using the Scaffolding Tool (Recommended)",id:"using-the-scaffolding-tool-recommended",level:3},{value:"Manual Creation",id:"manual-creation",level:3},{value:"Run the Plugin",id:"run-the-plugin",level:2},{value:"Install Plugin (Automated - Recommended)",id:"install-plugin-automated---recommended",level:3},{value:"List Plugins",id:"list-plugins",level:3},{value:"Uninstall Plugins",id:"uninstall-plugins",level:3},{value:"Run the Backend Plugin",id:"run-the-backend-plugin",level:3},{value:"Using the Scaffolding Tool (Recommended)",id:"using-the-scaffolding-tool-recommended-1",level:4},{value:"Manual Installation",id:"manual-installation",level:4},{value:"Run the Standard UI Plugin",id:"run-the-standard-ui-plugin",level:3},{value:"Using the Scaffolding Tool (Recommended)",id:"using-the-scaffolding-tool-recommended-2",level:4},{value:"Manual Installation",id:"manual-installation-1",level:4},{value:"Backend Plugin Development",id:"backend-plugin-development",level:2},{value:"Implement the Base interface",id:"implement-the-base-interface",level:3},{value:"Implement the function interface",id:"implement-the-function-interface",level:3},{value:"Implement the configuration interface",id:"implement-the-configuration-interface",level:3},{value:"Register initialization function",id:"register-initialization-function",level:3},{value:"Standard UI plugin Development",id:"standard-ui-plugin-development",level:2},{value:"Editor plugin",id:"editor-plugin",level:3},{value:"Route plugin",id:"route-plugin",level:3},{value:"Captcha plugin",id:"captcha-plugin",level:3},{value:"Builtin plugin Development",id:"builtin-plugin-development",level:2},{value:"How to develop builtin plugin",id:"how-to-develop-builtin-plugin",level:3}];function c(n){const e={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h1,{id:"plugins-development-guide",children:"Plugins Development Guide"}),"\n",(0,l.jsx)(e.p,{children:"Plugins are a way to extend the functionality of the Answer project. You can create your own plugins to meet your own needs."}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsxs)(e.p,{children:["Viewing the ",(0,l.jsx)(e.a,{href:"https://github.com/apache/answer-plugins",children:(0,l.jsx)(e.strong,{children:"official plugin code"})})," will make you to quickly understand and learn plugin development."]})}),"\n",(0,l.jsx)(e.admonition,{type:"info",children:(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Recommended"}),": Use the official scaffolding tool ",(0,l.jsx)(e.a,{href:"https://www.npmjs.com/package/create-answer-plugin",children:(0,l.jsx)(e.code,{children:"create-answer-plugin"})})," to create and manage plugins. It automates most of the setup process, including file generation, Go module configuration, and plugin installation."]})}),"\n",(0,l.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,l.jsx)(e.h3,{id:"plugin-template-types",children:"Plugin template types"}),"\n",(0,l.jsx)(e.p,{children:"Currently we have three types of plugins:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Backend plugin"}),"\n",(0,l.jsx)(e.li,{children:"Standard UI plugin"}),"\n",(0,l.jsx)(e.li,{children:"Builtin plugin"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"plugin-type",children:"Plugin type"}),"\n",(0,l.jsx)(e.p,{children:"We classify plugins into different types. Different types of plugins have different functions. Plugins of the same type have the same effect, but are implemented differently."}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"Plugin Name"}),(0,l.jsx)(e.th,{children:"Template Type"}),(0,l.jsx)(e.th,{children:"Description"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Connector"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"The Connector plugin helps us to implement third-party login functionality"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Storage"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"The Storage plugin helps us to upload files to third-party storage."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Cache"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"Support for using different caching middleware."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Search"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"Support for using search engines to speed up the search for question answers."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"User Center"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"Using the third-party user system to manage users."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Notification"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"The Notification plugin helps us to send messages to third-party notification systems."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Route"}),(0,l.jsx)(e.td,{children:"Standard UI Plugin"}),(0,l.jsx)(e.td,{children:"Provides support for custom routing."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Editor"}),(0,l.jsx)(e.td,{children:"Standard UI Plugin"}),(0,l.jsx)(e.td,{children:"Supports extending the markdown editor's toolbar."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Captcha"}),(0,l.jsx)(e.td,{children:"Standard UI Plugin"}),(0,l.jsx)(e.td,{children:"Provides support for captcha."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Reviewer"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"Allows customizing the reviewer functionality."})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Filter"}),(0,l.jsx)(e.td,{children:"Backend Plugin"}),(0,l.jsx)(e.td,{children:"Filter out illegal questions or answers. (coming soon)"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Render"}),(0,l.jsx)(e.td,{children:"Standard UI Plugin"}),(0,l.jsx)(e.td,{children:"Parsers for different content formats. (coming soon)"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"create-a-plugin",children:"Create a Plugin"}),"\n",(0,l.jsxs)(e.admonition,{type:"info",children:[(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.strong,{children:"name"})," field in package.json is the name of the package we add dependencies to; do not use ",(0,l.jsx)(e.code,{children:"_"})," to connect this field naming, please use ",(0,l.jsx)(e.code,{children:"-"}),"; for example:"]}),(0,l.jsxs)(e.p,{children:['"editor-chart" \u2705',(0,l.jsx)(e.br,{}),"\n",'"editor_chart" \u274c']})]}),"\n",(0,l.jsx)(e.h3,{id:"using-the-scaffolding-tool-recommended",children:"Using the Scaffolding Tool (Recommended)"}),"\n",(0,l.jsx)(e.p,{children:"The easiest way to create a plugin is using the official scaffolding tool:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# Install the tool globally (optional)\nnpm install -g create-answer-plugin\n# or\npnpm add -g create-answer-plugin\n\n# Or use npx directly (recommended)\nnpx create-answer-plugin create <pluginName>\n# or use the alias\nnpx answer-plugin create <pluginName>\n# or use the simplified form\nnpx answer-plugin <pluginName>\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Note"}),": The package name is ",(0,l.jsx)(e.code,{children:"create-answer-plugin"}),", but you can use either ",(0,l.jsx)(e.code,{children:"create-answer-plugin"})," or ",(0,l.jsx)(e.code,{children:"answer-plugin"})," as the command (both work!)."]}),"\n",(0,l.jsx)(e.p,{children:"The tool will:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"Guide you through an interactive wizard to select the plugin type"}),"\n",(0,l.jsx)(e.li,{children:"Generate all required files with the correct structure"}),"\n",(0,l.jsx)(e.li,{children:"Create the Go wrapper file (required for Backend plugins)"}),"\n",(0,l.jsxs)(e.li,{children:["Set up proper ",(0,l.jsx)(e.code,{children:"go.mod"})," with all dependencies"]}),"\n",(0,l.jsx)(e.li,{children:"Generate i18n files with the correct structure"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Options:"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"pluginName"})," (optional): Pre-fill the plugin name"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"--path, -p"}),": Path to Answer project (root directory). If not specified, defaults to current directory."]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Example:"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# Navigate to your Answer project root\ncd /path/to/answer\n\n# Create a plugin\nnpx create-answer-plugin create my-plugin\n# or with path option\nnpx create-answer-plugin create my-plugin --path /path/to/answer\n# Select: Standard UI Plugin \u2192 Route\n# Enter route path: /hello\n"})}),"\n",(0,l.jsxs)(e.p,{children:["The plugin will be created in ",(0,l.jsx)(e.code,{children:"ui/src/plugins/my-plugin/"})," (note: ",(0,l.jsx)(e.code,{children:"plugins"})," is plural)."]}),"\n",(0,l.jsx)(e.h3,{id:"manual-creation",children:"Manual Creation"}),"\n",(0,l.jsx)(e.p,{children:"If you prefer to create plugins manually:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Go to the ",(0,l.jsx)(e.code,{children:"ui > src > plugins"})," directory of the project (note: ",(0,l.jsx)(e.code,{children:"plugins"})," is plural)."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Create your plugin directory and files following the structure of existing plugins."}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"run-the-plugin",children:"Run the Plugin"}),"\n",(0,l.jsx)(e.h3,{id:"install-plugin-automated---recommended",children:"Install Plugin (Automated - Recommended)"}),"\n",(0,l.jsxs)(e.p,{children:["The easiest way to install a plugin is using the scaffolding tool's ",(0,l.jsx)(e.code,{children:"install"})," command:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# Navigate to your Answer project root\ncd /path/to/answer\n\n# Install a specific plugin (automatically handles registration)\nnpx create-answer-plugin install my-plugin\n# or\nnpx answer-plugin install my-plugin\n# or with path option\nnpx answer-plugin install my-plugin --path /path/to/answer\n\n# Install all not installed plugins\nnpx create-answer-plugin install\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Options:"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"plugins"})," (optional): Plugin names to install (defaults to all not installed plugins)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"--path, -p"}),": Path to Answer project (defaults to current directory)"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.code,{children:"install"})," command automatically:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u2705 Adds plugin import to ",(0,l.jsx)(e.code,{children:"cmd/answer/main.go"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 Adds ",(0,l.jsx)(e.code,{children:"replace"})," directive to ",(0,l.jsx)(e.code,{children:"go.mod"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 Runs ",(0,l.jsx)(e.code,{children:"go mod tidy"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 Merges i18n resources using ",(0,l.jsx)(e.code,{children:"go run ./cmd/answer/main.go i18n"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"list-plugins",children:"List Plugins"}),"\n",(0,l.jsx)(e.p,{children:"List all plugins in the Answer project:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# List all plugins\nnpx create-answer-plugin list\n# or\nnpx answer-plugin list\n# or with path option\nnpx answer-plugin list /path/to/answer\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Options:"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"path"})," (optional): Path to Answer project (defaults to current directory)"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"uninstall-plugins",children:"Uninstall Plugins"}),"\n",(0,l.jsx)(e.p,{children:"Uninstall plugins from the Answer project:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"# Uninstall all installed plugins\nnpx create-answer-plugin uninstall\n# or\nnpx answer-plugin uninstall\n\n# Uninstall specific plugins\nnpx create-answer-plugin uninstall my-plugin another-plugin\n# or with path option\nnpx answer-plugin uninstall my-plugin --path /path/to/answer\n"})}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"Options:"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"plugins"})," (optional): Plugin names to uninstall (defaults to all installed plugins)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"--path, -p"}),": Path to Answer project (defaults to current directory)"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.code,{children:"uninstall"})," command automatically:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u2705 Removes plugin import from ",(0,l.jsx)(e.code,{children:"cmd/answer/main.go"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 Removes ",(0,l.jsx)(e.code,{children:"replace"})," directive from ",(0,l.jsx)(e.code,{children:"go.mod"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 Runs ",(0,l.jsx)(e.code,{children:"go mod tidy"})]}),"\n",(0,l.jsx)(e.li,{children:"\u2705 Updates i18n resources"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"run-the-backend-plugin",children:"Run the Backend Plugin"}),"\n",(0,l.jsx)(e.h4,{id:"using-the-scaffolding-tool-recommended-1",children:"Using the Scaffolding Tool (Recommended)"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install the plugin using the scaffolding tool (see above)."}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Build the frontend:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd ui\npnpm pre-install\npnpm build\ncd ..\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Merge i18n resources (if not done automatically):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go run ./cmd/answer/main.go i18n\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Start the project:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go run cmd/answer/main.go run -C ./answer-data\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"manual-installation",children:"Manual Installation"}),"\n",(0,l.jsx)(e.p,{children:"If you prefer to install manually:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"First, build the frontend:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd ui\npnpm pre-install\npnpm build\ncd ..\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["In the ",(0,l.jsx)(e.code,{children:"cmd > answer > main.go"})," file, import your plugin:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'import (\n  answercmd "github.com/apache/answer/cmd"\n\n  // Import the plugins\n  _ "github.com/apache/answer/ui/src/plugins/my-plugin"\n)\n'})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Use ",(0,l.jsx)(e.code,{children:"go mod edit"})," to add the plugin to the ",(0,l.jsx)(e.code,{children:"go.mod"})," file:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go mod edit -replace=github.com/apache/answer/ui/src/plugins/my-plugin=./ui/src/plugins/my-plugin\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Update the dependencies:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go mod tidy\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Merge i18n resources:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go run ./cmd/answer/main.go i18n\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Start the project:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"go run cmd/answer/main.go run -C ./answer-data\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"run-the-standard-ui-plugin",children:"Run the Standard UI Plugin"}),"\n",(0,l.jsx)(e.h4,{id:"using-the-scaffolding-tool-recommended-2",children:"Using the Scaffolding Tool (Recommended)"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install the plugin using the scaffolding tool:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd /path/to/answer\nnpx create-answer-plugin install my-plugin\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Go to the ",(0,l.jsx)(e.code,{children:"ui"})," directory and install dependencies:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd ui\npnpm pre-install\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Build the frontend:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"pnpm build\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"For development, start the dev server:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"pnpm start\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Merge i18n resources (if not done automatically):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"cd ..\ngo run ./cmd/answer/main.go i18n\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"manual-installation-1",children:"Manual Installation"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Go to the ",(0,l.jsx)(e.code,{children:"ui"})," directory."]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Install the dependencies:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"pnpm pre-install\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"Build the frontend:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"pnpm build\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsx)(e.p,{children:"For development, start the dev server:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-shell",children:"pnpm start\n"})}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:["Refer to the ",(0,l.jsx)(e.a,{href:"/docs/development/plugins#run-the-backend-plugin",children:"Run the Backend Plugin"})," section and manually add the plugin to the project (import in ",(0,l.jsx)(e.code,{children:"main.go"}),", add ",(0,l.jsx)(e.code,{children:"replace"})," directive, etc.)."]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"backend-plugin-development",children:"Backend Plugin Development"}),"\n",(0,l.jsx)(e.h3,{id:"implement-the-base-interface",children:"Implement the Base interface"}),"\n",(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.code,{children:"Base"})," interface contains basic information about the plugin and is used to display."]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"// Info presents the plugin information\ntype Info struct {\n    Name        Translator\n    SlugName    string\n    Description Translator\n    Author      string\n    Version     string\n    Link        string\n}\n\n// Base is the base plugin\ntype Base interface {\n    // Info returns the plugin information\n    Info() Info\n}\n"})}),"\n",(0,l.jsx)(e.admonition,{type:"caution",children:(0,l.jsxs)(e.p,{children:["The ",(0,l.jsx)(e.code,{children:"SlugName"})," of the plugin must be unique. Two plugins with the same ",(0,l.jsx)(e.code,{children:"SlugName"})," will panic when registering."]})}),"\n",(0,l.jsx)(e.h3,{id:"implement-the-function-interface",children:"Implement the function interface"}),"\n",(0,l.jsxs)(e.admonition,{type:"note",children:[(0,l.jsx)(e.p,{children:"Different plugin types require different interfaces of implementation."}),(0,l.jsxs)(e.p,{children:["For example, following is the ",(0,l.jsx)(e.code,{children:"Connector"})," plugin interface."]})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"type Connector interface {\n    Base\n    \n    // ConnectorLogoSVG presents the logo in svg format\n    ConnectorLogoSVG() string\n    \n    // ConnectorName presents the name of the connector\n    // e.g. Facebook, Twitter, Instagram\n    ConnectorName() Translator\n    \n    // ConnectorSlugName presents the slug name of the connector\n    // Please use lowercase and hyphen as the separator\n    // e.g. facebook, twitter, instagram\n    ConnectorSlugName() string\n    \n    // ConnectorSender presents the sender of the connector\n    // It handles the start endpoint of the connector\n    // receiverURL is the whole URL of the receiver\n    ConnectorSender(ctx *GinContext, receiverURL string) (redirectURL string)\n    \n    // ConnectorReceiver presents the receiver of the connector\n    // It handles the callback endpoint of the connector, and returns the\n    ConnectorReceiver(ctx *GinContext, receiverURL string) (userInfo ExternalLoginUserInfo, err error)\n}\n"})}),"\n",(0,l.jsx)(e.admonition,{type:"tip",children:(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"Translator"})," is a struct for translation. Please refer to ",(0,l.jsx)(e.a,{href:"/docs/development/plugins/plugin-translation",children:"the documentation"})," for details."]})}),"\n",(0,l.jsx)(e.h3,{id:"implement-the-configuration-interface",children:"Implement the configuration interface"}),"\n",(0,l.jsxs)(e.p,{children:["For details on the description of each configuration item, please refer to ",(0,l.jsx)(e.a,{href:"/docs/development/plugins/plugin-config",children:"the documentation"}),"."]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:"type Config interface {\n    Base\n\n    // ConfigFields returns the list of config fields\n    ConfigFields() []ConfigField\n\n    // ConfigReceiver receives the config data, it calls when the config is saved or initialized.\n    // We recommend to unmarshal the data to a struct, and then use the struct to do something.\n    // The config is encoded in JSON format.\n    // It depends on the definition of ConfigFields.\n    ConfigReceiver(config []byte) error\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"register-initialization-function",children:"Register initialization function"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-go",children:'import "github.com/apache/answer/plugin"\n\nfunc init() {\n    plugin.Register(&GitHubConnector{\n        Config: &GitHubConnectorConfig{},\n    })\n}\n'})}),"\n",(0,l.jsx)(e.h2,{id:"standard-ui-plugin-development",children:"Standard UI plugin Development"}),"\n",(0,l.jsx)(e.p,{children:"The default configuration is as follows:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"slug_name: <slug_name> \ntype: <type>\nversion: 0.0.1\nauthor: \n\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"import i18nConfig from './i18n';\nimport Component from './Component';\nimport info from './info.yaml';\n\nexport default {\n  info: {\n    slug_name: info.slug_name,\n    type: info.type, \n  },\n  i18nConfig,\n  component: Component, \n};\n"})}),"\n",(0,l.jsxs)(e.p,{children:["Among them, ",(0,l.jsx)(e.code,{children:"type"}),"\u3001",(0,l.jsx)(e.code,{children:"slug_name"})," and ",(0,l.jsx)(e.code,{children:"component"})," are required fields. ",(0,l.jsx)(e.code,{children:"i18nConfig"})," and ",(0,l.jsx)(e.code,{children:"hooks"})," are optional fields."]}),"\n",(0,l.jsx)(e.p,{children:"Currently the front end supports the following types of plugins:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"editor"}),"\n",(0,l.jsx)(e.li,{children:"route"}),"\n",(0,l.jsx)(e.li,{children:"captcha"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"editor-plugin",children:"Editor plugin"}),"\n",(0,l.jsxs)(e.p,{children:["Refer to ",(0,l.jsx)(e.a,{href:"https://github.com/apache/answer-plugins/tree/main/editor-chart",children:"editor-chart"})," for details."]}),"\n",(0,l.jsx)(e.h3,{id:"route-plugin",children:"Route plugin"}),"\n",(0,l.jsxs)(e.p,{children:["The plugin configuration of the routing type adds the ",(0,l.jsx)(e.code,{children:"route"})," field to the configuration file."]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-yaml",children:"slug_name: <slug_name>\nroute: /<route>\ntype: route\nversion: 0.0.1\nauthor: \n\n"})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-tsx",children:"import i18nConfig from './i18n';\nimport Component from './Component';\nimport info from './info.yaml';\n\nexport default {\n  info: {\n    slug_name: info.slug_name,\n    type: info.type,\n    route: info.route,\n  },\n  i18nConfig,\n  component: Component,\n};\n"})}),"\n",(0,l.jsx)(e.h3,{id:"captcha-plugin",children:"Captcha plugin"}),"\n",(0,l.jsxs)(e.p,{children:["Refer to ",(0,l.jsx)(e.a,{href:"https://github.com/apache/answer-plugins/tree/main/captcha-basic",children:"captcha-basic"})," for details."]}),"\n",(0,l.jsx)(e.h2,{id:"builtin-plugin-development",children:"Builtin plugin Development"}),"\n",(0,l.jsx)(e.p,{children:"It is not so different from React component, this plugin is more suitable for the following scenarios:"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"There are complex business logics that cannot be separated from the code (such as Oauth)."}),"\n",(0,l.jsx)(e.li,{children:"Some back-end plugins require UI support for business purposes (such as Search)."}),"\n",(0,l.jsx)(e.li,{children:"This plugin has extremely low requirements for developers and requires no additional configuration work."}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"how-to-develop-builtin-plugin",children:"How to develop builtin plugin"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Get familiar with the directory structure"}),". Go to the ",(0,l.jsx)(e.code,{children:"ui/src/plugins/builtin"})," directory and create a directory, such as Demo. Then refer to the existing plugins to create the necessary files to start development."]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-txt",children:"// ui/src/plugins/builtin\n.\n\u251c\u2500\u2500 ...\n\u251c\u2500\u2500 Demo\n      \u251c\u2500\u2500 i18n (language file)\n            \u251c\u2500\u2500 en_US.yaml (default language required)\n            \u251c\u2500\u2500 index.ts (required)\n            \u251c\u2500\u2500 zh_CN.ts (any language you want to provide)\n      \u251c\u2500\u2500 index.tsx (component required)\n      \u251c\u2500\u2500 info.yaml (plugin information required)\n      \u251c\u2500\u2500 services.ts (api)\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"2",children:["\n",(0,l.jsxs)(e.li,{children:["Export the plugins you have just defined in the plugins list file ",(0,l.jsx)(e.code,{children:"plugins/builtin/index.ts"})]}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:"import Demo from './Demo'\n\nexport default {\n  ...(exists plugins),\n  Demo,\n};\n"})}),"\n",(0,l.jsxs)(e.ol,{start:"3",children:["\n",(0,l.jsx)(e.li,{children:"Now you can use the PluginRender component to render the just-defined plugin where you want it!"}),"\n"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-ts",children:'  <PluginRender\n    type="connector"\n    slug_name="third_party_connector"\n  />\n'})}),"\n",(0,l.jsxs)(e.ol,{start:"4",children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Publish plugin"}),": initiate the PR process normally and describe the plugin function and scope of influence in detail."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}},90887:(n,e,i)=>{i.d(e,{Z:()=>o,a:()=>r});var l=i(85170);const t={},s=l.createContext(t);function r(n){const e=l.useContext(s);return l.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),l.createElement(s.Provider,{value:e},n.children)}}}]);